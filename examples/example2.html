

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Monitoring the Information Flow in a large archipelago &mdash; PyGMO 1.1.5 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:'../',
        VERSION:'1.1.5',
        COLLAPSE_INDEX:false,
        FILE_SUFFIX:'.html',
        HAS_SOURCE:  true
      };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
    <script type="text/javascript">
        jQuery(function () {
            SphinxRtdTheme.StickyNav.enable();
        });
    </script>
  

  
    <link rel="top" title="PyGMO 1.1.5 documentation" href="../index.html"/>
        <link rel="up" title="Examples" href="index.html"/>
        <link rel="next" title="Testing Algorithms" href="example3.html"/>
        <link rel="prev" title="A study on Mixing Variants of Differential Evolution" href="example1.html"/> 

  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../index.html" class="fa fa-home"> PyGMO</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install.html">Install PyGMO</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../install.html#preparing-your-system-to-compile-pygmo">Preparing your system to compile PyGMO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install.html#download-pygmo-code">Download PyGMO code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install.html#compiling-and-installing-under-unix">Compiling and Installing under Unix</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install.html#compiling-and-installing-under-windows">Compiling and Installing under Windows</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quick Start</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../quickstart.html#on-one-cpu">On one CPU</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart.html#on-many-cpus">On many CPUs ...</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart.html#and-migrating-solutions">... and migrating solutions ...</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart.html#and-between-different-algorithms">... and between different algorithms ...</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/adding_problems_and_algorithms_to_PyGMO.html">Adding new problems and algorithms to PyGMO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/meta_problems_meta_algorithms.html">Meta-problems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/multi_objective_optimization_with_PyGMO.html">Multi Objective Optimization with PyGMO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/hypervolumes_in_PyGMO.html">Hypervolumes with PyGMO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/dealing_with_constraints_in_PyGMO.html">Dealing with constraints in PyGMO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/racing.html">Racing in PyGMO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/tsp.html">Traveling Salesman Problems with PyGMO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/landscape_analysis_with_DrPyGMO.html">Landscape Analysis using Dr. PyGMO</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="example1.html">A study on Mixing Variants of Differential Evolution</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Monitoring the Information Flow in a large archipelago</a></li>
<li class="toctree-l2"><a class="reference internal" href="example3.html">Testing Algorithms</a></li>
<li class="toctree-l2"><a class="reference internal" href="example4.html">Multi-objective optimization in the asynchronous island model</a></li>
<li class="toctree-l2"><a class="reference internal" href="example5.html">Designing and optimizing interplanetary trajectories</a></li>
<li class="toctree-l2"><a class="reference internal" href="example6.html">Participating to the CEC2013 Competition (v 1.1.5)</a></li>
<li class="toctree-l2"><a class="reference internal" href="example7.html">Travelling Salesman Problem for Active Space Debris Removal</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../documentation/index.html">User Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../documentation/individual.html">Individual and Champion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../documentation/population.html">Population</a></li>
<li class="toctree-l2"><a class="reference internal" href="../documentation/migration.html">Migration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../documentation/topology.html">Topology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../documentation/island.html">Island and Archipelago</a></li>
<li class="toctree-l2"><a class="reference internal" href="../documentation/algorithms.html">Algorithms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../documentation/problems.html">Problems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../documentation/hypervolume.html">Hypervolume</a></li>
<li class="toctree-l2"><a class="reference internal" href="../documentation/racing.html">Racing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../documentation/analysis.html">Dr. PyGMO - Analysis Module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="http://esa.github.io/pagmo/">PaGMO API</a></li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">PyGMO</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Examples</a> &raquo;</li>
      
    <li>Monitoring the Information Flow in a large archipelago</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../_sources/examples/example2.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="monitoring-the-information-flow-in-a-large-archipelago">
<h1>Monitoring the Information Flow in a large archipelago<a class="headerlink" href="#monitoring-the-information-flow-in-a-large-archipelago" title="Permalink to this headline">Â¶</a></h1>
<p>NOTE: For this example you need at least networkx 1.8! If you are still using networkx 1.7, the
maximum amount of islands you can draw in the spring layout is limited by 499 due to some bug in that library.</p>
<p>The effect of the generalized migration operator on the optimization process
is complex. Here we show how to use PyGMO to visualize and study it on a fairly large archipelago.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">PyGMO</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">prob</span> <span class="o">=</span> <span class="n">problem</span><span class="o">.</span><span class="n">rosenbrock</span><span class="p">(</span><span class="n">dim</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">algo</span> <span class="o">=</span> <span class="n">algorithm</span><span class="o">.</span><span class="n">de</span><span class="p">(</span><span class="n">gen</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">archi</span> <span class="o">=</span> <span class="n">archipelago</span><span class="p">(</span><span class="n">algo</span><span class="p">,</span><span class="n">prob</span><span class="p">,</span><span class="mi">1024</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="n">topology</span><span class="o">=</span><span class="n">topology</span><span class="o">.</span><span class="n">barabasi_albert</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="n">pos</span> <span class="o">=</span> <span class="n">archi</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">scale_by_degree</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">n_size</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">e_alpha</span><span class="o">=</span><span class="mf">0.03</span><span class="p">)</span>
<span class="n">savefig</span><span class="p">(</span><span class="s">&#39;archi000&#39;</span><span class="p">,</span> <span class="n">dpi</span> <span class="o">=</span> <span class="mi">72</span><span class="p">)</span>
</pre></div>
</div>
<p>In the above code we instantiate the archipelago and visualize it, color coding the nodes with the champion&#8217;s
fitness in the archipelago. We then save the figure in the current directory. The figure will look something like ...</p>
<img alt="../_images/ex2.png" src="../_images/ex2.png" />
<p>We then evolve 200 times producing, at each step, the picture of the archipealgo with the new evolved
fitness</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">200</span><span class="p">):</span>
     <span class="n">archi</span><span class="o">.</span><span class="n">evolve</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
     <span class="n">archi</span><span class="o">.</span><span class="n">join</span><span class="p">();</span>
     <span class="n">pos</span> <span class="o">=</span> <span class="n">archi</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">scale_by_degree</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">n_size</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">e_alpha</span><span class="o">=</span><span class="mf">0.03</span><span class="p">)</span>
     <span class="n">savefig</span><span class="p">(</span><span class="s">&#39;archi</span><span class="si">%03d</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">i</span><span class="p">,</span> <span class="n">dpi</span> <span class="o">=</span> <span class="mi">72</span><span class="p">);</span>
     <span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>Putting together the frames produced (in a linux system one can use imagemagik
and the simple command</p>
<div class="highlight-bash"><div class="highlight"><pre>convert archi* movie.gif
</pre></div>
</div>
<p>we obtain the animated gif  ...</p>
<img alt="../_images/ex2_mov_ba_fit.gif" src="../_images/ex2_mov_ba_fit.gif" />
<p>NOTE: see how, in the particular archipealgo considered, the optimization proceeds in a <em>centripetal</em>
fashion, that is from the &#8216;suburbs&#8217; to the center. This allows us to learn that highly connected nodes
(the hubs) are always behind in the optimization process as, probably, they receive <strong>too much information</strong>.
This is a characteristic of the Barabasi Albert topology. Other topologies have different dynamics.
If, for example, we were to use an ageing_clusterd_ba topology the movie below would be produced ...</p>
<img alt="../_images/ex2_mov_agba_rank.gif" src="../_images/ex2_mov_agba_rank.gif" />
<p>Showing an entirely different dynamics of the optimization.</p>
<p>The final script (included in PyGMO) is:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">example_2</span><span class="p">(</span><span class="n">algo</span><span class="o">=</span><span class="n">algorithm</span><span class="o">.</span><span class="n">de</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">prob</span> <span class="o">=</span> <span class="n">problem</span><span class="o">.</span><span class="n">rosenbrock</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">topo</span> <span class="o">=</span> <span class="n">topology</span><span class="o">.</span><span class="n">barabasi_albert</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="n">n_evolve</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">n_isl</span> <span class="o">=</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">pop_size</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span> <span class="n">color_code</span><span class="o">=</span><span class="s">&#39;rank&#39;</span><span class="p">):</span>
     <span class="kn">from</span> <span class="nn">PyGMO</span> <span class="kn">import</span> <span class="n">problem</span><span class="p">,</span> <span class="n">algorithm</span><span class="p">,</span> <span class="n">island</span><span class="p">,</span> <span class="n">archipelago</span>
     <span class="kn">from</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">import</span> <span class="n">savefig</span><span class="p">,</span> <span class="n">close</span>
     <span class="n">archi</span> <span class="o">=</span> <span class="n">archipelago</span><span class="p">(</span><span class="n">algo</span><span class="p">,</span><span class="n">prob</span><span class="p">,</span><span class="n">n_isl</span><span class="p">,</span><span class="n">pop_size</span><span class="p">,</span><span class="n">topology</span><span class="o">=</span><span class="n">topo</span><span class="p">)</span>
     <span class="k">print</span> <span class="s">&quot;Drawing Initial Condition .. &quot;</span>
     <span class="n">pos</span> <span class="o">=</span> <span class="n">archi</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">scale_by_degree</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">n_size</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">e_alpha</span><span class="o">=</span><span class="mf">0.03</span><span class="p">,</span> <span class="n">n_color</span> <span class="o">=</span> <span class="n">color_code</span><span class="p">)</span>
     <span class="n">savefig</span><span class="p">(</span><span class="s">&#39;archi000&#39;</span><span class="p">,</span> <span class="n">dpi</span> <span class="o">=</span> <span class="mi">72</span><span class="p">)</span>
     <span class="n">close</span><span class="p">()</span>
     <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n_evolve</span><span class="p">):</span>
             <span class="n">archi</span><span class="o">.</span><span class="n">evolve</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
             <span class="n">archi</span><span class="o">.</span><span class="n">join</span><span class="p">();</span>
             <span class="k">print</span> <span class="s">&quot;Drawing&quot;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">+</span>  <span class="s">&quot;-th evolution .. &quot;</span>
             <span class="n">pos</span> <span class="o">=</span> <span class="n">archi</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">layout</span> <span class="o">=</span> <span class="n">pos</span><span class="p">,</span> <span class="n">scale_by_degree</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">n_size</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">e_alpha</span><span class="o">=</span><span class="mf">0.03</span><span class="p">,</span> <span class="n">n_color</span> <span class="o">=</span> <span class="n">color_code</span><span class="p">)</span>
             <span class="n">savefig</span><span class="p">(</span><span class="s">&#39;archi</span><span class="si">%03d</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">i</span><span class="p">,</span> <span class="n">dpi</span> <span class="o">=</span> <span class="mi">72</span><span class="p">);</span>
             <span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="example3.html" class="btn btn-neutral float-right" title="Testing Algorithms"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="example1.html" class="btn btn-neutral" title="A study on Mixing Variants of Differential Evolution"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013, Dario Izzo and Francesco Biscani.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  

</body>
</html>